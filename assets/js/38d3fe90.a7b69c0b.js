"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[64761],{15680:(e,t,a)=>{a.d(t,{xA:()=>u,yg:()=>c});var n=a(96540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},g="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),g=p(a),y=r,c=g["".concat(l,".").concat(y)]||g[y]||m[y]||i;return a?n.createElement(c,s(s({ref:t},u),{},{components:a})):n.createElement(c,s({ref:t},u))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,s=new Array(i);s[0]=y;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[g]="string"==typeof e?e:r,s[1]=o;for(var p=2;p<i;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}y.displayName="MDXCreateElement"},51168:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>p,toc:()=>g});a(96540);var n=a(15680);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const o={sidebar_position:9,title:"CorpUser",slug:"/generated/metamodel/entities/corpuser-datahub",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/generated/metamodel/entities/corpuser-datahub.md"},l="CorpUser",p={unversionedId:"docs/generated/metamodel/entities/corpuser-datahub",id:"docs/generated/metamodel/entities/corpuser-datahub",title:"CorpUser",description:"CorpUser represents an individual user (or account) in the enterprise. These entities serve as the identity layer within DataHub, representing people who interact with data assets, own resources, belong to groups, and have roles and permissions within the organization. CorpUsers can represent LDAP users, Active Directory accounts, SSO identities, or native DataHub users.",source:"@site/genDocs/docs/generated/metamodel/entities/corpuser-datahub.md",sourceDirName:"docs/generated/metamodel/entities",slug:"/generated/metamodel/entities/corpuser-datahub",permalink:"/docs/generated/metamodel/entities/corpuser-datahub",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/generated/metamodel/entities/corpuser-datahub.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9,title:"CorpUser",slug:"/generated/metamodel/entities/corpuser-datahub",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/generated/metamodel/entities/corpuser-datahub.md"},sidebar:"overviewSidebar",previous:{title:"Notebook",permalink:"/docs/generated/metamodel/entities/notebook"},next:{title:"CorpUser",permalink:"/docs/generated/metamodel/entities/corpuser"}},u={},g=[{value:"Identity",id:"identity",level:2},{value:"Examples",id:"examples",level:3},{value:"Username Conventions",id:"username-conventions",level:3},{value:"Important Capabilities",id:"important-capabilities",level:2},{value:"Profile Information",id:"profile-information",level:3},{value:"Editable User Information",id:"editable-user-information",level:3},{value:"User Status",id:"user-status",level:3},{value:"Group Membership",id:"group-membership",level:3},{value:"Role Membership",id:"role-membership",level:3},{value:"Authentication Credentials",id:"authentication-credentials",level:3},{value:"User Settings",id:"user-settings",level:3},{value:"Origin",id:"origin",level:3},{value:"Slack Integration",id:"slack-integration",level:3},{value:"Tags, Structured Properties, and Forms",id:"tags-structured-properties-and-forms",level:3},{value:"Code Examples",id:"code-examples",level:2},{value:"Creating a CorpUser",id:"creating-a-corpuser",level:3},{value:"Creating a CorpUser with Group Memberships",id:"creating-a-corpuser-with-group-memberships",level:3},{value:"Updating User Profile Information",id:"updating-user-profile-information",level:3},{value:"Adding Tags to a User",id:"adding-tags-to-a-user",level:3},{value:"Querying Users via REST API",id:"querying-users-via-rest-api",level:3},{value:"Searching for Users",id:"searching-for-users",level:3},{value:"Integration Points",id:"integration-points",level:2},{value:"Relationships with Other Entities",id:"relationships-with-other-entities",level:3},{value:"Identity Provider Integration",id:"identity-provider-integration",level:3},{value:"Authentication and Authorization",id:"authentication-and-authorization",level:3},{value:"Notable Exceptions",id:"notable-exceptions",level:2},{value:"System Users",id:"system-users",level:3},{value:"Deprecated Active Field",id:"deprecated-active-field",level:3},{value:"Username Immutability",id:"username-immutability",level:3},{value:"Display Name Precedence",id:"display-name-precedence",level:3},{value:"Technical Reference",id:"technical-reference",level:2}],m={toc:g},y="wrapper";function c(e){var{components:t}=e,a=s(e,["components"]);return(0,n.yg)(y,i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){r(e,t,a[t])}))}return e}({},m,a),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"corpuser"},"CorpUser"),(0,n.yg)("p",null,"CorpUser represents an individual user (or account) in the enterprise. These entities serve as the identity layer within DataHub, representing people who interact with data assets, own resources, belong to groups, and have roles and permissions within the organization. CorpUsers can represent LDAP users, Active Directory accounts, SSO identities, or native DataHub users."),(0,n.yg)("h2",{id:"identity"},"Identity"),(0,n.yg)("p",null,"CorpUsers are uniquely identified by a single piece of information:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Username"),": A unique identifier for the user within the organization. This is typically sourced from the corporate identity provider (LDAP, Active Directory, etc.) or can be an email address for native DataHub users.")),(0,n.yg)("p",null,"The URN structure for CorpUser is:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"urn:li:corpuser:<username>\n")),(0,n.yg)("h3",{id:"examples"},"Examples"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"urn:li:corpuser:jdoe\nurn:li:corpuser:john.doe@company.com\nurn:li:corpuser:jdoe@company.com\n")),(0,n.yg)("p",null,"The username is stored in the ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserKey")," aspect, which is the identity aspect for this entity. The username field is marked as searchable and enables autocomplete functionality in the DataHub UI."),(0,n.yg)("h3",{id:"username-conventions"},"Username Conventions"),(0,n.yg)("p",null,"The username can follow various conventions depending on your organization's identity provider:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"LDAP/Active Directory usernames"),": ",(0,n.yg)("inlineCode",{parentName:"li"},"jdoe"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"john.doe"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"john_doe")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Email addresses"),": ",(0,n.yg)("inlineCode",{parentName:"li"},"jdoe@company.com"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"john.doe@company.com")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"SSO identities"),": Depends on your SSO provider's username format"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Native DataHub users"),": Typically email addresses")),(0,n.yg)("p",null,"It's important to maintain consistency in username formats across your DataHub deployment to ensure proper identity resolution and relationship tracking."),(0,n.yg)("h2",{id:"important-capabilities"},"Important Capabilities"),(0,n.yg)("h3",{id:"profile-information"},"Profile Information"),(0,n.yg)("p",null,"The core profile information about a user is stored in the ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserInfo")," aspect. This is typically populated automatically by ingestion connectors from identity providers like LDAP, Active Directory, Azure AD, Okta, or other SSO systems."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Key Fields:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"displayName"),": The user's name as it should appear in the UI"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"email"),": Email address for contacting the user"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"title"),': Job title (e.g., "Senior Data Engineer")'),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"firstName")," and ",(0,n.yg)("strong",{parentName:"li"},"lastName"),": Components of the user's name"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"fullName"),': Full name typically formatted as "firstName lastName"'),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"managerUrn"),": URN reference to the user's direct manager (another CorpUser)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"departmentId")," and ",(0,n.yg)("strong",{parentName:"li"},"departmentName"),": Organizational department information"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"countryCode"),': Two-letter country code (e.g., "US", "UK")'),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"active"),": Whether the user account is active (deprecated in favor of ",(0,n.yg)("inlineCode",{parentName:"li"},"corpUserStatus"),")"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"system"),": Whether this is a system/service account rather than a human user")),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"managerUrn")," field creates a relationship between users, enabling organizational hierarchy visualization in DataHub."),(0,n.yg)("h3",{id:"editable-user-information"},"Editable User Information"),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserEditableInfo")," aspect contains information that users can modify through the DataHub UI, allowing users to enrich their profiles beyond what's provided by the identity provider."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Key Fields:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"aboutMe"),": A personal description or bio"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"displayName"),": User-specified display name (overrides the one from corpUserInfo)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"title"),": User-specified title (overrides the one from corpUserInfo)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"teams"),": List of team names the user belongs to (e.g., ",'["Data Platform", "Analytics"]',")"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"skills"),": List of skills the user possesses (e.g., ",'["Python", "SQL", "Machine Learning"]',")"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"pictureLink"),": URL to a profile picture"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"slack"),": Slack handle for communication"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"phone"),": Contact phone number"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"email"),": Contact email (can differ from the system email)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"platforms"),": URNs of data platforms the user commonly works with"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"persona"),': URN of the user\'s DataHub persona (role-based persona like "Data Analyst")')),(0,n.yg)("h3",{id:"user-status"},"User Status"),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserStatus")," aspect tracks the current status of the user account, replacing the deprecated ",(0,n.yg)("inlineCode",{parentName:"p"},"active")," field in ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserInfo"),"."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Key Fields:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"status"),': Current status of the user (e.g., "ACTIVE", "SUSPENDED", "PROVISIONED")'),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"lastModified"),": Audit stamp with information about who last modified the status and when")),(0,n.yg)("p",null,"This aspect provides more granular control over user account states compared to the simple boolean ",(0,n.yg)("inlineCode",{parentName:"p"},"active")," field."),(0,n.yg)("h3",{id:"group-membership"},"Group Membership"),(0,n.yg)("p",null,"Users can be members of groups through two different aspects:"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"groupMembership"),": Represents membership in CorpGroups that may be managed within DataHub or synchronized from external systems. This creates ",(0,n.yg)("inlineCode",{parentName:"p"},"IsMemberOfGroup")," relationships."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"nativeGroupMembership"),": Represents membership in groups that are native to an external identity provider (like Active Directory groups). This creates ",(0,n.yg)("inlineCode",{parentName:"p"},"IsMemberOfNativeGroup")," relationships."),(0,n.yg)("p",null,"Both aspects store arrays of group URNs, allowing users to belong to multiple groups simultaneously."),(0,n.yg)("h3",{id:"role-membership"},"Role Membership"),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"roleMembership")," aspect associates users with DataHub roles, which define their permissions and access within the platform."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Key Fields:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"roles"),": Array of DataHubRole URNs that the user is assigned to")),(0,n.yg)("p",null,"This creates ",(0,n.yg)("inlineCode",{parentName:"p"},"IsMemberOfRole")," relationships and is fundamental to DataHub's role-based access control (RBAC) system."),(0,n.yg)("h3",{id:"authentication-credentials"},"Authentication Credentials"),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserCredentials")," aspect stores authentication information for native DataHub users (users created directly in DataHub rather than synchronized from an external identity provider)."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Key Fields:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"salt"),": Salt used for password hashing"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"hashedPassword"),": The hashed password"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"passwordResetToken"),": Optional token for password reset operations"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"passwordResetTokenExpirationTimeMillis"),": When the reset token expires")),(0,n.yg)("p",null,"This aspect is only used for native authentication and is not populated for users authenticated through SSO or LDAP."),(0,n.yg)("h3",{id:"user-settings"},"User Settings"),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserSettings")," aspect stores user-specific preferences for the DataHub UI and features."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Key Fields:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"appearance"),": Settings controlling the look and feel of the DataHub UI",(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"showSimplifiedHomepage"),": Whether to show a simplified homepage with only datasets, charts, and dashboards"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"showThemeV2"),": Whether to use the V2 theme"))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"views"),": Settings for the Views feature",(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"defaultView"),": The user's default DataHub view"))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"notificationSettings"),": Preferences for notifications"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"homePage"),": Settings for the home page experience",(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"pageTemplate"),": The user's default page template"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"dismissedAnnouncementUrns"),": List of announcements the user has dismissed")))),(0,n.yg)("h3",{id:"origin"},"Origin"),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"origin")," aspect tracks where the user entity originated from, distinguishing between native DataHub users and those synchronized from external systems."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Key Fields:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"type"),': Either "NATIVE" or "EXTERNAL"'),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"externalType"),': Name of the external identity provider (e.g., "AzureAD", "Okta", "LDAP")')),(0,n.yg)("p",null,"This information is useful for understanding the source of truth for user data and managing synchronization processes."),(0,n.yg)("h3",{id:"slack-integration"},"Slack Integration"),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"slackUserInfo")," aspect contains detailed information about a user's Slack identity, enabling rich Slack integration features within DataHub."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Key Fields:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"slackInstance"),": URN of the Slack workspace"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"id"),": Unique Slack member ID"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"name"),": Slack username"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"realName"),": Real name in Slack"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"displayName"),": Display name in Slack"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"email"),": Email associated with the Slack account"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"teamId"),": Slack team/workspace ID"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"isDeleted"),", ",(0,n.yg)("strong",{parentName:"li"},"isAdmin"),", ",(0,n.yg)("strong",{parentName:"li"},"isOwner"),", ",(0,n.yg)("strong",{parentName:"li"},"isPrimaryOwner"),", ",(0,n.yg)("strong",{parentName:"li"},"isBot"),": Account status flags"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"timezone")," and ",(0,n.yg)("strong",{parentName:"li"},"timezoneOffset"),": User's timezone information"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"title"),": Job title from Slack"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"phone"),": Phone number from Slack"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"profilePictureUrl"),": URL to Slack profile picture"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"statusText")," and ",(0,n.yg)("strong",{parentName:"li"},"statusEmoji"),": Current Slack status")),(0,n.yg)("h3",{id:"tags-structured-properties-and-forms"},"Tags, Structured Properties, and Forms"),(0,n.yg)("p",null,"Like other DataHub entities, CorpUsers support:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"globalTags"),": Tags attached to the user entity for categorization"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"structuredProperties"),": Custom properties defined by your organization's data model"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"forms"),": Forms that can be attached to users for collecting structured information"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"status"),": Generic status aspect for soft-deletion")),(0,n.yg)("p",null,"These common aspects enable flexible metadata management and integration with DataHub's broader metadata framework."),(0,n.yg)("h2",{id:"code-examples"},"Code Examples"),(0,n.yg)("h3",{id:"creating-a-corpuser"},"Creating a CorpUser"),(0,n.yg)("p",null,"The simplest way to create a CorpUser is using the high-level Python SDK:"),(0,n.yg)("details",null,(0,n.yg)("summary",null,"Python SDK: Create a basic user"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-python"},'# metadata-ingestion/examples/library/corpuser_create_basic.py\nimport logging\nimport os\n\nfrom datahub.api.entities.corpuser.corpuser import CorpUser\nfrom datahub.ingestion.graph.client import DataHubGraph, DataHubGraphConfig\n\nlog = logging.getLogger(__name__)\nlogging.basicConfig(level=logging.INFO)\n\n# Create a basic user with essential information\nuser = CorpUser(\n    id="jdoe",\n    display_name="John Doe",\n    email="jdoe@company.com",\n    title="Senior Data Engineer",\n    first_name="John",\n    last_name="Doe",\n    full_name="John Doe",\n    department_name="Data Engineering",\n    country_code="US",\n)\n\n# Create graph client\ngms_server = os.getenv("DATAHUB_GMS_URL", "http://localhost:8080")\ntoken = os.getenv("DATAHUB_GMS_TOKEN")\ndatahub_graph = DataHubGraph(DataHubGraphConfig(server=gms_server, token=token))\n\n# Emit the user entity\nfor event in user.generate_mcp():\n    datahub_graph.emit(event)\n\nlog.info(f"Created user {user.urn}")\n\n'))),(0,n.yg)("h3",{id:"creating-a-corpuser-with-group-memberships"},"Creating a CorpUser with Group Memberships"),(0,n.yg)("p",null,"Users are often members of groups. Here's how to create a user and assign them to groups:"),(0,n.yg)("details",null,(0,n.yg)("summary",null,"Python SDK: Create user with group memberships"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-python"},'# metadata-ingestion/examples/library/corpuser_create_with_groups.py\nimport logging\n\nfrom datahub.api.entities.corpuser.corpuser import CorpUser\nfrom datahub.ingestion.graph.client import DataHubGraph, DataHubGraphConfig\n\nlog = logging.getLogger(__name__)\nlogging.basicConfig(level=logging.INFO)\n\n# Create a user with group memberships\nuser = CorpUser(\n    id="jsmith",\n    display_name="Jane Smith",\n    email="jsmith@company.com",\n    title="Data Analyst",\n    first_name="Jane",\n    last_name="Smith",\n    full_name="Jane Smith",\n    department_name="Analytics",\n    country_code="US",\n    groups=["data-engineering", "analytics-team"],\n)\n\n# Create graph client\ndatahub_graph = DataHubGraph(DataHubGraphConfig(server="http://localhost:8080"))\n\n# Emit the user entity with group memberships\nfor event in user.generate_mcp():\n    datahub_graph.emit(event)\n\nlog.info(f"Created user {user.urn} with group memberships")\n\n'))),(0,n.yg)("h3",{id:"updating-user-profile-information"},"Updating User Profile Information"),(0,n.yg)("p",null,"To update editable profile information for an existing user:"),(0,n.yg)("details",null,(0,n.yg)("summary",null,"Python SDK: Update user profile"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-python"},'# metadata-ingestion/examples/library/corpuser_update_profile.py\nimport logging\n\nfrom datahub.api.entities.corpuser.corpuser import CorpUser, CorpUserGenerationConfig\nfrom datahub.ingestion.graph.client import DataHubGraph, DataHubGraphConfig\n\nlog = logging.getLogger(__name__)\nlogging.basicConfig(level=logging.INFO)\n\n# Update a user\'s editable profile information\nuser = CorpUser(\n    id="jdoe",\n    email="jdoe@company.com",\n    description="Passionate about data quality and building reliable data pipelines. "\n    "10+ years of experience in data engineering.",\n    slack="@jdoe",\n    phone="+1-555-0123",\n    picture_link="https://company.com/photos/jdoe.jpg",\n)\n\n# Create graph client\ndatahub_graph = DataHubGraph(DataHubGraphConfig(server="http://localhost:8080"))\n\n# Emit with override_editable=True to update editable fields\nfor event in user.generate_mcp(\n    generation_config=CorpUserGenerationConfig(override_editable=True)\n):\n    datahub_graph.emit(event)\n\nlog.info(f"Updated profile for user {user.urn}")\n\n'))),(0,n.yg)("h3",{id:"adding-tags-to-a-user"},"Adding Tags to a User"),(0,n.yg)("p",null,"Users can be tagged for categorization and discovery:"),(0,n.yg)("details",null,(0,n.yg)("summary",null,"Python SDK: Add tags to a user"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-python"},'# metadata-ingestion/examples/library/corpuser_add_tag.py\nimport logging\n\nfrom datahub.emitter.mce_builder import make_tag_urn, make_user_urn\nfrom datahub.emitter.mcp import MetadataChangeProposalWrapper\nfrom datahub.ingestion.graph.client import DataHubGraph, DataHubGraphConfig\nfrom datahub.metadata.schema_classes import GlobalTagsClass, TagAssociationClass\n\nlog = logging.getLogger(__name__)\nlogging.basicConfig(level=logging.INFO)\n\n# User to add tag to\nuser_urn = make_user_urn("jdoe")\n\n# Tag to add\ntag_urn = make_tag_urn("DataEngineering")\n\n# Create graph client\ndatahub_graph = DataHubGraph(DataHubGraphConfig(server="http://localhost:8080"))\n\n# Read current tags\ncurrent_tags = datahub_graph.get_aspect(\n    entity_urn=user_urn, aspect_type=GlobalTagsClass\n)\n\n# Initialize tags if they don\'t exist\nif current_tags is None:\n    current_tags = GlobalTagsClass(tags=[])\n\n# Check if tag already exists\ntag_exists = any(tag.tag == tag_urn for tag in current_tags.tags)\n\nif not tag_exists:\n    # Add the new tag\n    new_tag = TagAssociationClass(tag=tag_urn)\n    current_tags.tags.append(new_tag)\n\n    # Create MCP to update the tags\n    mcp = MetadataChangeProposalWrapper(\n        entityUrn=user_urn,\n        aspect=current_tags,\n    )\n\n    # Emit the change\n    datahub_graph.emit(mcp)\n    log.info(f"Added tag {tag_urn} to user {user_urn}")\nelse:\n    log.info(f"Tag {tag_urn} already exists on user {user_urn}")\n\n'))),(0,n.yg)("h3",{id:"querying-users-via-rest-api"},"Querying Users via REST API"),(0,n.yg)("p",null,"You can fetch user information using the REST API:"),(0,n.yg)("details",null,(0,n.yg)("summary",null,"REST API: Get user information"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},'# Get a user by URN\ncurl -X GET "http://localhost:8080/entities/urn%3Ali%3Acorpuser%3Ajdoe" \\\n  -H "Authorization: Bearer <your-access-token>"\n\n# Get specific aspects of a user\ncurl -X GET "http://localhost:8080/aspects/urn%3Ali%3Acorpuser%3Ajdoe?aspect=corpUserInfo&aspect=corpUserEditableInfo&aspect=groupMembership" \\\n  -H "Authorization: Bearer <your-access-token>"\n'))),(0,n.yg)("h3",{id:"searching-for-users"},"Searching for Users"),(0,n.yg)("p",null,"You can search for users using the GraphQL API or search API:"),(0,n.yg)("details",null,(0,n.yg)("summary",null,"GraphQL: Search for users"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-graphql"},'query searchUsers {\n  search(input: { type: CORP_USER, query: "john", start: 0, count: 10 }) {\n    start\n    count\n    total\n    searchResults {\n      entity {\n        ... on CorpUser {\n          urn\n          username\n          properties {\n            displayName\n            email\n            title\n            fullName\n          }\n          editableProperties {\n            aboutMe\n            teams\n            skills\n            slack\n          }\n        }\n      }\n    }\n  }\n}\n'))),(0,n.yg)("h2",{id:"integration-points"},"Integration Points"),(0,n.yg)("h3",{id:"relationships-with-other-entities"},"Relationships with Other Entities"),(0,n.yg)("p",null,"CorpUsers have several important relationships with other DataHub entities:"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Ownership Relationships:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"CorpUsers can be owners of datasets, dashboards, charts, data flows, and virtually any other entity in DataHub"),(0,n.yg)("li",{parentName:"ul"},"The ownership relationship includes the owner type (e.g., DATAOWNER, TECHNICAL_OWNER, BUSINESS_OWNER)")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Group Relationships:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Users belong to CorpGroups through ",(0,n.yg)("inlineCode",{parentName:"li"},"IsMemberOfGroup")," relationships"),(0,n.yg)("li",{parentName:"ul"},"Groups can also be owners of assets, providing inherited ownership")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Role Relationships:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Users are assigned to DataHub roles through ",(0,n.yg)("inlineCode",{parentName:"li"},"IsMemberOfRole")," relationships"),(0,n.yg)("li",{parentName:"ul"},"Roles define permissions and access levels within DataHub")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Organizational Hierarchy:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"The ",(0,n.yg)("inlineCode",{parentName:"li"},"managerUrn")," field in ",(0,n.yg)("inlineCode",{parentName:"li"},"corpUserInfo")," creates ",(0,n.yg)("inlineCode",{parentName:"li"},"ReportsTo")," relationships"),(0,n.yg)("li",{parentName:"ul"},"This enables visualization of organizational structure and reporting chains")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Platform Usage:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"The ",(0,n.yg)("inlineCode",{parentName:"li"},"platforms")," field in ",(0,n.yg)("inlineCode",{parentName:"li"},"corpUserEditableInfo")," creates ",(0,n.yg)("inlineCode",{parentName:"li"},"IsUserOf")," relationships"),(0,n.yg)("li",{parentName:"ul"},"This helps identify which platforms users commonly work with")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Persona Assignment:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Users can be assigned to DataHub personas through the ",(0,n.yg)("inlineCode",{parentName:"li"},"persona")," field"),(0,n.yg)("li",{parentName:"ul"},"This helps categorize users by their role and customize their experience")),(0,n.yg)("h3",{id:"identity-provider-integration"},"Identity Provider Integration"),(0,n.yg)("p",null,"CorpUsers are typically synchronized from external identity providers:"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"LDAP/Active Directory:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Most organizations use LDAP connectors to automatically synchronize user information"),(0,n.yg)("li",{parentName:"ul"},"The username typically corresponds to the LDAP ",(0,n.yg)("inlineCode",{parentName:"li"},"uid")," or ",(0,n.yg)("inlineCode",{parentName:"li"},"sAMAccountName")),(0,n.yg)("li",{parentName:"ul"},"Profile information is populated from LDAP attributes")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"SSO Providers (Okta, Azure AD, etc.):")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"SSO integrations can provision users automatically on first login"),(0,n.yg)("li",{parentName:"ul"},"User attributes from the SSO provider populate the ",(0,n.yg)("inlineCode",{parentName:"li"},"corpUserInfo")," aspect"),(0,n.yg)("li",{parentName:"ul"},"The ",(0,n.yg)("inlineCode",{parentName:"li"},"origin")," aspect tracks the SSO provider as the source")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Native DataHub Users:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Users can be created directly in DataHub for testing or small deployments"),(0,n.yg)("li",{parentName:"ul"},"These users have credentials stored in the ",(0,n.yg)("inlineCode",{parentName:"li"},"corpUserCredentials")," aspect"),(0,n.yg)("li",{parentName:"ul"},"They are marked with ",(0,n.yg)("inlineCode",{parentName:"li"},"origin.type = NATIVE"))),(0,n.yg)("h3",{id:"authentication-and-authorization"},"Authentication and Authorization"),(0,n.yg)("p",null,"CorpUsers are central to DataHub's security model:"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Authentication:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Native users authenticate with username/password"),(0,n.yg)("li",{parentName:"ul"},"SSO users authenticate through their identity provider"),(0,n.yg)("li",{parentName:"ul"},"API tokens can be associated with users for programmatic access")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Authorization (RBAC):")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Users are assigned to roles through the ",(0,n.yg)("inlineCode",{parentName:"li"},"roleMembership")," aspect"),(0,n.yg)("li",{parentName:"ul"},"Roles define what actions users can perform"),(0,n.yg)("li",{parentName:"ul"},"Policies can reference users or groups to grant/restrict access")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Metadata Access:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Users can only see metadata they have permission to view"),(0,n.yg)("li",{parentName:"ul"},"Ownership and group membership influence what users can edit"),(0,n.yg)("li",{parentName:"ul"},"Policies can be user-specific or group-based")),(0,n.yg)("h2",{id:"notable-exceptions"},"Notable Exceptions"),(0,n.yg)("h3",{id:"system-users"},"System Users"),(0,n.yg)("p",null,"CorpUsers can represent both human users and system/service accounts. The ",(0,n.yg)("inlineCode",{parentName:"p"},"system")," field in ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserInfo")," distinguishes between these:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Human Users")," (",(0,n.yg)("inlineCode",{parentName:"li"},"system: false"),"): Actual people who interact with DataHub"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"System Accounts")," (",(0,n.yg)("inlineCode",{parentName:"li"},"system: true"),"): Service accounts, automated processes, or system-level operations")),(0,n.yg)("p",null,"System users should be marked appropriately to distinguish them in reports, ownership lists, and access reviews."),(0,n.yg)("h3",{id:"deprecated-active-field"},"Deprecated Active Field"),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"active")," field in ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserInfo")," is deprecated. Use the ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserStatus")," aspect instead, which provides:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"More granular status options beyond just active/inactive"),(0,n.yg)("li",{parentName:"ul"},"Audit information about status changes"),(0,n.yg)("li",{parentName:"ul"},"Better support for provisioning workflows")),(0,n.yg)("p",null,"When working with users, prefer checking ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserStatus.status")," over ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserInfo.active"),"."),(0,n.yg)("h3",{id:"username-immutability"},"Username Immutability"),(0,n.yg)("p",null,"The username (in ",(0,n.yg)("inlineCode",{parentName:"p"},"corpUserKey"),") is immutable once a user is created. If a user's username changes in the source system:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"A new CorpUser entity must be created with the new username"),(0,n.yg)("li",{parentName:"ul"},"Ownership and other relationships need to be migrated to the new entity"),(0,n.yg)("li",{parentName:"ul"},"The old user can be soft-deleted using the ",(0,n.yg)("inlineCode",{parentName:"li"},"status")," aspect")),(0,n.yg)("p",null,"Plan your username strategy carefully to avoid frequent username changes."),(0,n.yg)("h3",{id:"display-name-precedence"},"Display Name Precedence"),(0,n.yg)("p",null,"Display names can appear in multiple aspects with this precedence:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("inlineCode",{parentName:"li"},"corpUserEditableInfo.displayName")," (user-specified, highest priority)"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("inlineCode",{parentName:"li"},"corpUserInfo.displayName")," (from identity provider)"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("inlineCode",{parentName:"li"},"corpUserInfo.fullName")," (fallback if no display name is set)")),(0,n.yg)("p",null,"The DataHub UI resolves these in order, showing the most specific value available."),(0,n.yg)("h2",{id:"technical-reference"},"Technical Reference"),(0,n.yg)("p",null,"For technical details about fields, searchability, and relationships, view the ",(0,n.yg)("strong",{parentName:"p"},"Columns")," tab in DataHub."))}c.isMDXComponent=!0}}]);